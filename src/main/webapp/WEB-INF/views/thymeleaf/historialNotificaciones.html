<!DOCTYPE HTML>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/fragments :: head('Historial de Notificaciones')">
    <th:block th:fragment="extra">
    </th:block>
</head>

<body>
<th:block th:switch="${userRole}">
    <th:block th:case="'CONDUCTOR'">
        <div th:replace="fragments/navbar_conductor :: navbar"></div>
    </th:block>
    <th:block th:case="'VIAJERO'">
        <div th:replace="fragments/navbar_viajero :: navbar"></div>
    </th:block>
</th:block>


<main role="main" class="container" style="margin-top: 120px;">
    <h2><i class="fas fa-bell me-2"></i> Historial de Notificaciones</h2>
    <hr>

    <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

    <div th:if="${notificaciones.isEmpty()}" class="alert alert-info">
        No tienes notificaciones en tu historial.
    </div>

    <div class="list-group">
        <a th:each="notificacion : ${notificaciones}"
           th:href="@{${notificacion.urlDestino}}"
           class="list-group-item list-group-item-action text-decoration-none d-block"
           th:classappend="${notificacion.leida} ? 'text-muted' : 'fw-bold list-group-item-light'">

            <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1" th:text="${notificacion.mensaje}">Mensaje de Notificaci√≥n</h5>
                <small th:text="${notificacion.fechaCreacion}"></small>
            </div>
            <small th:text="'Tipo: ' + ${notificacion.tipo}"></small>
        </a>
    </div>
</main>

<div th:replace="fragments/fragments :: footer"></div>
<th:block th:replace="fragments/fragments :: scripts-websocket"></th:block>
</body>
</html>